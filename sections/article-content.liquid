{%- render 'stylesheet', name: 'article-content' -%}
{%- render 'stylesheet', name: 'article-content-extended' -%}
{%- render 'tag-script', name: 'article-content', loading: 'defer' -%}

<article class="section-article-content">
  <div class="container">
    <div class="article-hero">
    {% if article.image %}
      <div class="article-hero__image-wrapper">
        {{ article.image | image_url: width: 1200 | image_tag: 
          alt: article.title, 
          class: 'article-hero__image',
          loading: 'eager' 
        }}
      </div>
    {% endif %}
    
      <div class="article-hero__content">
        <div class="article-hero__meta">
          {% if article.author %}
            <span class="article-hero__author">{{ article.author }}</span>
            <span class="article-hero__separator">â€¢</span>
          {% endif %}
          <span class="article-hero__date">{{ article.published_at | date: "%B %d, %Y" }}</span>
        </div>
        
        <h1 class="article-hero__title">{{ article.title }}</h1>
        
        {% if article.excerpt_or_content %}
          <p class="article-hero__excerpt">{{ article.excerpt }}</p>
        {% endif %}
      </div>
    </div>

    <div class="article-wrapper">
      <div class="article-main">
        <div class="article-content">
          {{ article.content }}
        </div>

        <div class="article-share">
          <h3 class="article-share__title">Share this article</h3>
          <div class="article-share__buttons">
            <a 
              href="https://www.facebook.com/sharer/sharer.php?u={{ article.url | escape }}" 
              target="_blank" 
              rel="noopener noreferrer"
              class="article-share__button article-share__button--facebook">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
              </svg>
              Facebook
            </a>
            <button 
              class="article-share__button article-share__button--copy"
              onclick="copyToClipboard('{{ article.url }}')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2m-2 9l4 4 8-8"/>
              </svg>
              Copy Link
            </button>
          </div>
        </div>

        <div class="article-author">
          <div class="article-author__content">
            <h4 class="article-author__name">About the author</h4>
            <p class="article-author__bio">{{ article.author }} is a contributor to our blog, sharing insights and expertise on various topics.</p>
          </div>
        </div>
      </div>

      <aside class="article-sidebar">
        <div class="article-sidebar__widget">
          <h3 class="article-sidebar__title">Article Details</h3>
          <ul class="article-sidebar__list">
            <li class="article-sidebar__item">
              <strong>Published:</strong>
              <span>{{ article.published_at | date: "%B %d, %Y" }}</span>
            </li>
            <li class="article-sidebar__item">
              <strong>Author:</strong>
              <span>{{ article.author | default: 'FONATON Team' }}</span>
            </li>
            {% if article.tags.size > 0 %}
              <li class="article-sidebar__item">
                <strong>Tags:</strong>
                <div class="article-sidebar__tags">
                  {% for tag in article.tags %}
                    <a href="{{ blog.url }}/tagged/{{ tag | handle }}" class="article-sidebar__tag">
                      {{ tag }}
                    </a>
                  {% endfor %}
                </div>
              </li>
            {% endif %}
          </ul>
        </div>
      </aside>
    </div>
  </div>
</article>

<script>
  function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => {
      alert('Link copied to clipboard!');
    }).catch(err => {
      console.error('Failed to copy:', err);
    });
  }
</script>

{% schema %}
  {
    "name": "Article Content",
    "settings": [],
    "presets": [
      {
        "name": "Article Content",
        "category": "Blog"
      }
    ]
  }
{% endschema %}
